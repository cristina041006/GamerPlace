<nav class="navbar navbar-expand-lg color" >
    <div class="esc">
      <a class="navbar-brand imag" routerLink="/" aria-label="logo image" title="Go home" aria-label="Go home"><img src="../../../assets/img/LogoNavbar.png" class="img" alt="logo image"></a>
    
    
    </div>
    <div class="container mov"> <!-- Envuelve todo el contenido del navbar en un contenedor -->
      <a class="nav-link active" aria-current="page" style="margin-left: 1%;" title="menu">         
        <button class="navbar-toggler" id="modelButton" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasWithBothOptions" aria-controls="offcanvasWithBothOptions">
          <span class="navbar-toggler-icon"></span>
        </button>
      </a>
      <a class="navbar-brand imag mx-auto" routerLink="/" title="Go home" aria-label="Go home"><img src="../../../assets/img/LogoNavbar.png" class="img" alt="logo image"></a>
    </div>
  
    <div class=" navbar-collapse esc" >
      <div style="width: 70%;">
        <app-search (evento)="eventSearch($event)"></app-search>
      </div>
      <svg xmlns="http://www.w3.org/2000/svg"  style="width: 0.6cm; margin-left: 1%;" viewBox="0 0 512 512" class="esc"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"/></svg>
    </div>
   
    @if (username()) {
      <li class="nav-item dropstart esc" style="list-style: none; margin-right: 1%;">
        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false" title="User options">
          <span style=" border: 1px solid black;  padding: 0.1cm; padding-bottom: 0.2cm; border-radius: 3px" >
            <span style="color: rgb(0, 0, 0);">{{username()}}</span><svg xmlns="http://www.w3.org/2000/svg" style="width: 0.6cm; " viewBox="0 0 448 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"/></svg>
          </span>
        </a>
        <ul class="dropdown-menu">
          <li><a class="dropdown-item" (click)="logout()" title="Logout">Logout</a></li>
          <li><a class="dropdown-item" routerLink="/seller" title="Go to become a seller form" *ngIf="rol()=='user'">Be a seller</a></li>
          <li><a class="dropdown-item"  *ngIf="rol()=='userSeller'" title="Go to your games" routerLink="/listGame">Your games</a></li>
          <li><a class="dropdown-item" title="Go to settings" routerLink="/profile">Profile</a></li>
        </ul>
      </li>

    }@else{
      <li class="nav-item dropstart esc" style="list-style: none; margin-right: 1%;" >
        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false" title="Login option">
          <span style="  padding: 0.1cm; padding-bottom: 0.2cm; border-radius: 3px" >
            <svg xmlns="http://www.w3.org/2000/svg" style="width: 0.6cm; " viewBox="0 0 448 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"/></svg>
          </span>
        </a>
        <ul class="dropdown-menu">
          <li><a class="dropdown-item" routerLink="/login" title="Login">Login</a></li>
          <li><a class="dropdown-item" routerLink="/register" title="Go to register form">Register</a></li>
        </ul>
      </li>
    }
   
    <div style="margin-right: 2.5%; " class="esc">
      <a routerLink="/shop" title="Shop cart" aria-label="Shop cart"><svg xmlns="http://www.w3.org/2000/svg" style="width: 0.8cm; " viewBox="0 0 576 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M0 24C0 10.7 10.7 0 24 0H69.5c22 0 41.5 12.8 50.6 32h411c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3H170.7l5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H199.7c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5H24C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"/></svg></a>
    </div>
</nav>

<div class="offcanvas offcanvas-start" data-bs-scroll="true" tabindex="-1" id="offcanvasWithBothOptions" aria-labelledby="offcanvasWithBothOptionsLabel">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title" id="offcanvasWithBothOptionsLabel"><img src="../../../assets/img/favicon.ico" class="imgLogo"></h5>
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">
    <ul>
      <div style="width: 70%;">
        <app-search (evento)="eventSearch($event)"></app-search>
      </div>
    </ul>
    <br>
    <ul style="padding-right: 2%;">
      <li routerLink="/videogames" routerLinkActive="active" ariaCurrentWhenActive="page" class="link" title="Game list" data-bs-dismiss="offcanvas">Videogames</li>
      <li routerLink="/games/second" routerLinkActive="active" ariaCurrentWhenActive="page" class="link" title="Second-hand game list" data-bs-dismiss="offcanvas">Second-hand games</li>
      <li routerLink="/addVideogame" routerLinkActive="active" ariaCurrentWhenActive="page" class="link" *ngIf="rol()=='admin'" title="Add game form" data-bs-dismiss="offcanvas">Add game</li>
      <li routerLink="/addOldGame" routerLinkActive="active" ariaCurrentWhenActive="page" class="link" *ngIf="rol()=='userSeller'" title="Sell game form" data-bs-dismiss="offcanvas">Sell game</li>
      <li routerLink="/historial" routerLinkActive="active" ariaCurrentWhenActive="page" class="link" *ngIf="rol()!='admin'" title="Bill list" data-bs-dismiss="offcanvas">Invoice history</li>
      <li routerLink="/listUser" routerLinkActive="active" ariaCurrentWhenActive="page" class="link" *ngIf="rol()=='admin'" title="Bill list" data-bs-dismiss="offcanvas">Users list</li>
    </ul>
    <ul style="padding-right: 2%; list-style: none; float: inline-end;display: flex;">
      @if (username()) {
        <li class="nav-item dropstart " style="list-style: none; margin-right: 1%;">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false" title="User options">
            <span style=" border: 1px solid black;  padding: 0.1cm; padding-bottom: 0.2cm; border-radius: 3px" >
              <span style="color: rgb(0, 0, 0);">{{username()}}</span><svg xmlns="http://www.w3.org/2000/svg" style="width: 0.6cm; " viewBox="0 0 448 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"/></svg>
            </span>
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" (click)="logout()" title="Logout" data-bs-dismiss="offcanvas">Logout</a></li>
            <li><a class="dropdown-item" routerLink="/seller" title="Go to become a seller form" *ngIf="rol()=='user'" data-bs-dismiss="offcanvas">Be a seller</a></li>
            <li><a class="dropdown-item" href="#"  *ngIf="rol()=='userSeller'" title="Go to your games" routerLink="/listGame" data-bs-dismiss="offcanvas">Your games</a></li>
          </ul>
        </li>
  
      }@else{
        <li class="nav-item dropstart " style="list-style: none; margin-right: 1%;" >
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false" title="Login option">
            <span style="  padding: 0.1cm; padding-bottom: 0.2cm; border-radius: 3px" >
              <svg xmlns="http://www.w3.org/2000/svg" style="width: 0.6cm; " viewBox="0 0 448 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"/></svg>
            </span>
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" routerLink="/login" title="Login" data-bs-dismiss="offcanvas">Login</a></li>
            <li><a class="dropdown-item" routerLink="/register" title="Go to register form" data-bs-dismiss="offcanvas">Register</a></li>
          </ul>
        </li>
      }
      <li>
        <div style="margin-right: 2.5%; margin-left: 1%;" >
          <a routerLink="/shop" aria-label="Shop cart" title="Shop Cart" data-bs-dismiss="offcanvas"><svg xmlns="http://www.w3.org/2000/svg" style="width: 0.8cm; " viewBox="0 0 576 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M0 24C0 10.7 10.7 0 24 0H69.5c22 0 41.5 12.8 50.6 32h411c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3H170.7l5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H199.7c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5H24C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"/></svg></a>
        </div>
      </li>
     
    </ul>
  </div>
  </div>

<app-menu></app-menu>
@if (gameFind==null || name=='') {
  <router-outlet></router-outlet>
}@else {
  <app-list [filter]="name"></app-list>
}



